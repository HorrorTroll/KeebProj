# Treadstone32ビルドガイド

## はじめに

　Treadstone32はすべてチップ部品を使っており、ピッチの細かい部品のはんだ付けがあるため自作キーボードの中でも難易度は高いです。まず使用する道具はちゃんとそろえてくださいますようお願いいたします。  
　また特にmicroUSBのピンとMCUのピンはピッチが狭いため、慣れないとハンダで隣のピンをブリッジすることがあります。これを気づかずに電源を入れると最悪部品をを破損しますので重ねてご注意くださいますようお願いいたします。  

## パーツ一覧

## キット付属品

細かいチップ部品は予備として1個多く入れています。  

| 基板番号 | 定数 | 数 | 名前 | 備考 |
| ---- | ---- | --- | --- | --- |
| C1 | 0.1uF | 2 | コンデンサ |  | 
| C2-C3 | 1uF | 3 | コンデンサ |  | 
| C4-C5 | 22pF | 3 | コンデンサ |  | 
| R1-R2 | 22ohm | 3 | 抵抗 |  | 
| R3-R4 | 10Kohm | 3 | 抵抗 |  | 
| X1 | 16MHz | 1 | 水晶振動子 EPSON FA-238 |  | 
| U1 | - | 1 | MCU atmel ATMEGA32U4-AU |  | 
| J1 | - | 1 | micro USB MOLEX 47642-0001 |  | 
| (D1-D32) | - | 33 | ダイオード | 
| (SW1-SW32) | - | 32 | Kailh MX ソケット |  | 
| - | M2 1.6mm | 6 | ナット |  | 
| - | M2 17mm- | 6 | ボルト |  | 
| - | 2mm | 6 | ゴム脚 |  | 

## キット以外に必要な物

### キット以外に必要なもの

| 名前 | 数 | 備考 |
| ---- | ---- | --- |
| キースイッチ | 32個 | MX互換のもの |
| キーキャップ | 32個 | MX互換のもの |
| *LEDストリップ（WS2812B 6個付き）* | *1個* | *Underglow用（オプション）* |

## 必要な道具

| 名前 | 備考 |
| ---- | ---- |
| 温調はんだごて | チップ部品は熱に弱いので温調はんだごてが必須です |
| 細めのこて先 | 1Cや2C型くらいまで |
| 糸ハンダ | 0.5mm程度の細いものを推奨します |
| ハンダ吸い取り線 | 失敗したとき用 |
| ピンセット | 必須です |
| テスター | 接続確認、ブリッジ確認に必須です |

## 組み立て

　組み立ての時間ですが、2～4時間くらい（ファーム開発環境構築からだと別途+1～2時間程度）を目安にしてください。半田ごてもってると一時間あっという間に飛びますので時々休憩を入れましょう。あとハンダの煙は吸ったり目に入れたりしないように注意しましょう。  

## micro USBのはんだ付け

## atmega32u4のはんだ付け

## 水晶振動子のはんだ付け

## コンデンサのはんだ付け

## 抵抗のはんだ付け

## リセットボタンのはんだ付け

## ダイオードのはんだ付け

## MXソケットのはんだ付け

## キーキャップの取り付け

## ケースの組み立て

## ファームウェアの書き込み

　Treadstone32は本家QMKにマージしておりませんので、私のフォークリポジトリの**my_customize**ブランチにあるものをお使いください。  
  [marksard/qmk_firmware](https://github.com/marksard/qmk_firmware/tree/my_customize)

　Treadstone32のキーマップのmakeは ```make treadstone32:like_jis``` で可能です。（Linux、Mac、MSYS2環境上なら ```make treadstone32:like_jis:dfu``` で書き込みも出来ます）  
　キーマップについての解説は[ここにあります](https://github.com/marksard/qmk_firmware/blob/my_customize/keyboards/treadstone32/keymaps/like_jis/readme_jp.md)。  

　QMKのmake環境から構築する場合、Windowsの方はMSYS2を使うか、WSL(Windows Subsystem for Linux)を使う方法があります。MSYS2での書き込み方は[さぼてんさん](https://twitter.com/cactusman)作成の記事[プログラマーではない人向けのQMK Firmware入門](https://qiita.com/cactusman/items/ac41993d1682c6d8a12e)を、WSLは[qmk_firmwareをWindows上でmakeする方法](https://qiita.com/marksard/items/f381caf3ca981f307f64)を参照してファームウェアを書き込める環境を作ってください。  
　Macな方はDocker使うほうが確実かもしれません。[自作キーボードに手を出した](https://poyo.hatenablog.jp/entry/2018/10/08/003800) の後半に記述があります。  

## 完成！

　チェックして問題なさそうなら完成です！あなただけの一台に仕上げてください！

## キースイッチの交換方法

　手では取り外しにくいため、amazonなどで販売されているキースイッチ引き抜き工具を使用して交換してください。  
